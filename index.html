<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Sorteo Rifas 1-200</title>

<style>
body { 
    background: linear-gradient(135deg, #ffecd2, #fcb69f);
    font-family: Arial, sans-serif;
    padding: 20px; 
}

#numeros { 
    display: flex; 
    flex-wrap: wrap; 
    gap: 14px; 
    justify-content: center; 
}

.numero {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    background: #ffffffcc;
    border: 3px solid #e3c4a8;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    font-weight: bold;
    color: #5a4637;
    box-shadow: 0 3px 6px rgba(0,0,0,0.15);
    transition: transform .15s ease;
}

.numero:hover {
    transform: scale(1.08);
}

.completo {
    background: linear-gradient(135deg, #ff5f6d, #ffc371);
    border-color: #c54d49;
    color: white;
}
</style>

</head>
<body>

<div id="numeros"></div>

<script>
// URL JSONP que funciona
const JSONP_URL = "https://script.google.com/macros/s/AKfycbzlcRMgNDYBy4yrrVx4WTDPDeB5RX-KCjDva-gAhqElV4pSaLeZG2USvFMrjtMS4fxe7Q/exec";

// JSONP callback obligatorio
function procesarDatos(data) {
    let contenedor = document.getElementById("numeros");

    // limpiar por si se recarga
    contenedor.innerHTML = "";

    data.forEach((fila, i) => {
        if (i === 0) return; 

        const dni = fila[0];
        const nombre = fila[1];
        const contacto = fila[2];
        const numero = fila[3];

        // número vacío o inválido = skip
        if (!numero || numero.trim() === "") return;

        const completo = dni.trim() !== "" &&
                         nombre.trim() !== "" &&
                         contacto.trim() !== "" &&
                         numero.trim() !== "";

        const div = document.createElement("div");
        div.className = "numero" + (completo ? " completo" : "");
        div.textContent = numero;

        contenedor.appendChild(div);
    });
}

// Inserta script JSONP
let s = document.createElement("script");
s.src = JSONP_URL;
document.body.appendChild(s);
</script>

</body>
</html>
